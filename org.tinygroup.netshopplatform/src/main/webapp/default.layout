<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!--[if IE 7 ]>		 <html class="no-js ie ie7 lte7 lte8 lte9" lang="en-US"> <![endif]-->
<!--[if IE 8 ]>		 <html class="no-js ie ie8 lte8 lte9" lang="en-US"> <![endif]-->
<!--[if IE 9 ]>		 <html class="no-js ie ie9 lte9>" lang="en-US"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js" lang="en-US"> <!--<![endif]-->
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>$!pageTitle</title>
    
    <script src="${TINY_CONTEXT_PATH}/uiengine.uijs"></script>
    <link href="${TINY_CONTEXT_PATH}/uiengine.uicss" rel="stylesheet" />
    <link href="${TINY_CONTEXT_PATH}/wijmo/themes/arctic/jquery-wijmo.css" rel="stylesheet" />
    
<script>
	var contextPath="${TINY_CONTEXT_PATH}";
	
function date2str(x,y) {
	var z = {M:x.getMonth()+1,d:x.getDate(),h:x.getHours(),m:x.getMinutes(),s:x.getSeconds()};
	y = y.replace(/(M+|d+|h+|m+|s+)/g,function(v) {return ((v.length>1?"0":"")+eval('z.'+v.slice(-1))).slice(-2)});
	return y.replace(/(y+)/g,function(v) {return x.getFullYear().toString().slice(-v.length)});
}
	function doChangeTheme(){
		var theme=$("#theme_select").val();
		if(theme!=""){
			var list=$("link");
			for(var i=0;i<list.length;i++){
				var link=list.get(i);
				var pos=link.href.indexOf("/themes/");
				if(pos>0){
					pos=link.href.indexOf(contextPath+"/");
					link.href=link.href.substr(0,pos)+ contextPath+theme;
					return;
				}
			}
		}
	}
</script>
<script>

var dialogStatus={};

function loadDialogPage(container,url,data){
	if(dialogStatus[data.operation_id]!=true){
		$(container).load(url,data);
	}else{
		alert('窗口已经打开，不能重复打开！');
	}
}

function clearValue(){
        
}

function loadConfirmService(container,title,message,url,data,callback){
      var newdiv=$('<div></div>').attr('title',title).html(message);
      newdiv.wijdialog({
                 close:function(){
    	           $(this).wijdialog("destroy").remove();
                 },
                 autoOpen: true, 
                 width: 300, 
                 height: 150, 
                 modal: true, 
                 buttons: {
                   "确认": function () {
                       $(container).load(url,data,function(responseTxt,statusTxt,xhr){
                           if(statusTxt=="success"){
                              callback();
                           }
                           if(statusTxt=="error"){
                               alert("Error: "+xhr.status+": "+xhr.statusText);
                           }
                       });
                          $(this).wijdialog("close");
                     },
                    "取消": function () {
                        $(this).wijdialog("close");
                    }
                }
     });
}

function loadPage(container,url,data){
	var containerItem=$(container);
	if(containerItem.length==0){
		alert(container+"元素不存在！");
		return;
	}
	containerItem.load(url,data);
}
function toggleSelection(e, sender, id) {
   e.stopPropagation();
   //select/unselect all rows on basis of checkbox
   if (sender.checked) {
      $("#" + id).wijgrid("selection").selectAll();
   } else {
      $("#" + id).wijgrid("selection").clear();
   }
}
function alertObject(obj){
	alert(obj);
}
function loadGridJson(url,data,gridId){
	$.getJSON(url,data,function(data) {
		if(typeof(data.exception)=='undefined'){//说明成功了
			$("#"+gridId).wijgrid({data:data.beans});
			$("#"+gridId+"_footerPagingBar").wijpager("option","pageIndex",data.pageNumber);
			$("#"+gridId+"_footerPagingBar").wijpager("option","pageCount",data.totalPages);
			
		}else{
			//显示错误提示
			alert('数据载入时，发生错误'+data.message);
		}
    });
}




/*
jQuery.fn.outerHTML = function(s) {
	return (s) ? this.before(s).remove() : jQuery("p").append(this.eq(0).clone()).html();
}
*/
</script>
<style>

body {
	font-family: "Trebuchet MS", "Helvetica", "Arial",  "tahoma", "sans-serif";
	font-size: 12px;
}

</style>
#*
#foreach($component in $uiengine.getHealthUiComponents())
<!--UI component $component.name start -->
#if($component.cssResource)
#set($resources=$component.cssResource.split(","))
#foreach($path in $resources)
#set($path=$path.trim())
#set($newPath=$path.replaceAll("[$][{]TINY_THEME[}]","${TINY_THEME}"))
<link href="${TINY_CONTEXT_PATH}$newPath" rel="stylesheet" />
#end
#end
#if($component.jsResource)
#set($resources=$component.jsResource.split(","))
#foreach($path in $resources)
#set($path=$path.trim())
<script src="${TINY_CONTEXT_PATH}$path"></script>
#end
#end
#if($component.jsCodelet)
<script>
#evaluate($!component.jsCodelet)
</script>
#end

#if($component.cssCodelet)
<style>
#evaluate($!component.cssCodelet)
</style>
#end
<!--UI component $component.name end -->

#end
*#

</head>
<body bgcolor="white" class="jquery-ui page page-id-5 page-template-default page-slug-accordion single-author singular">
#wijmoCalendar("calendar_selector")
$pageContent
</body>
</html>