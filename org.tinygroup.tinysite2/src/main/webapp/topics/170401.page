#pageTitle("topic","topic")
#title("Tiny框架","BigPipe为什么可以节省时间？ ")
#[[<div class="BlogContent"><p>&amp;#160;</p><p>关于什么是BigPipe，请移步<a href="http://baike.baidu.com/view/4601904.htm">http://baike.baidu.com/view/4601904.htm</a>去查阅一下。</p><p>在实现BigPipe的过程中，就对BigPipe到底能省多少时间比较奇怪。</p><p>普通的web页面，一般来说是页面生成，网络传输，前面页面渲染，这三部分的时间加起来就是操作人员从点击鼠标到最后看到页面的时间。</p><p>比如，一个页面有主页面框架，有4个部分的内容显示，为了便于分析，简化一下模型，假设主页面框架生成需要0.2S，4个部分的内容内容生成各自需要0.2S，网络传输与浏览器渲染也各计成0.2秒，这样，在传统的方式下，需要的时间就是</p><p>0.2*5+0.2*5+0.2*5=3秒。</p><p>那么换成BigPipe方式，时间的执行分布大概是：</p><p><a href="http://static.oschina.net/uploads/img/201310/21222009_psrJ.jpg"><img title="BlogAttachment" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="BlogAttachment" src="http://static.oschina.net/uploads/img/201310/21222011_UMwM.jpg" width="599" height="589"></img></a></p><p>所以换成BigPipe方式，时间大概就是1.4秒的样子。节省的时间大概是50%强一点的样子。</p><p>当然，这个时间是在各自三段时间都是0.2秒的情况，实际运行过程中，网络传输的时间在局域网中的时间会更快，后台页面的处理，也可以采用多线程处理的方式来进行，这样，后面页面处理时间可以缩短到0.4S，网络传输时间有0.2S也可以了。由于采用了BigPipe方式，在0.6S的时候，就可以看到最页面框架，后面的时间就是一块块出来，当后面出来的时间比较快的时候，给使用的感受就是在0.6S+界面就可以出来。这个与最初的3S，用户体验上明显是有天壤之别的。</p></div>]]#