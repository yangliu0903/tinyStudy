#pageTitle("topic","topic")
#title("Tiny框架","JSP放入Jar包支持 ")
#[[<div class="BlogContent"><p>所谓<a href="http://my.oschina.net/tinyframework/blog/168896" target="_blank" rel="nofollow">业务单元</a>，就是可以把各种执行资源打在Jar包中使之根据业务分模块进行放置。<span></span></p><p><br></br></p><p>一般的资源、配置都没有太大的部分，但是对于JSP来说有有问题了，这是由于JSP的执行机制导致的。</p><p>虽然从我的本意来说，采用Jsp来做展现引擎，可能已经越来越不合时宜，但是考虑到历史遗留项目中可能有采用jsp的问题，作为平台来说，也是必须要考虑支持的。</p><p>熟悉JSP执行机制的人都知道，JSP是要先由容器处理成java代码，然后再编译生成class文件，然后执行的。</p>但是考虑了各种实现机制，不同的容器上解决方式还不一样，尤其是Weblogic和Websp<span>h</span>ere，里面存在接口到实现类的强转，导致无法通过包装进行实现，最后导致技术问题无法解决，方案搁置。<p>搁置的一个月之中，再三思考这个问题，最后就忽然灵光一现有点头绪了，试验一下果然成功--后面再补充详细实现方案。</p><p>目前达到的效果：</p><p></p><ul><li><span style="line-height:1.5;font-size:10pt;">可以支持tomcat,jetty,glassfish,weblogic,websphere等各种容器。</span></li><li><span style="line-height:1.5;font-size:10pt;">不需要对容器的实现类进行hack。</span></li><li><span style="line-height:1.5;font-size:10pt;">对jsp的各种技术如：forward,redirect,include,jstl等均完美支持，也就是说完全支持jsp规范。</span></li></ul><p></p><p>与Tiny框架完美集成。</p><p>jsp文件可以自由的放在jar包中，从此，war工程中可以不再包含业务内容。</p></div>]]#